---
title: "Associated data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Associated data - POWOcodes, angioData, botregions and botdivmap}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{css, echo=FALSE}
.table{
  width: auto;
  font-size: 14px;
}
.table caption {
  font-size: 1em;
}
```

```{r package load}
library(expowo)
```

The main goal of the __expowo__ package is to retrieve information about the 
diversity and distribution of any plant family as publicly available at the 
taxonomically verified database 
[Plants of the World Online (POWO)](https://powo.science.kew.org).\

The package has some associate data to enhance performance before and while mining, specially big families of Angiosperms. There are four associated data to expowo's package that can be used by calling "utils::data()" to your environment.Here in this article, we explain how to use the package's data `POWOcodes`, `angioData`, `botregions` and `botdivmap`.\

\

# `POWOcodes` - A complete list of angiosperm families and associated URI addresses

The data `POWOcodes` is a dataframe containing a list of families of flowering plants according to APG IV and was retrieved from POWO database using the functions \code{apgFamilies} and \code{get_pow} of the package [taxize](https://docs.ropensci.org/taxize/index.html). It is very useful to use this data when the purpose is to query many plant families or all of them. Despite the names of plant families, which will be used in the arguments of all expowo's functions, it has the URI, the main way of accessing each family page at Plants of The World Online. 

To call this associated data to your R environment, use the function \code{data}.\

```{r, eval = FALSE}
utils::data("POWOcodes")
```

\

# `angioData` - A complete dataframe of Angiosperm species

The data `angioData` is retrieved from POWO database regularly to maintain information up-to-date about the families of flowering plants. For publication purposes and package size limitation, we selected some families to include in this associated data and let the information easily available. Currently, there are 66 plant families as listed in Table 1 and it is gathered by using \code{powoSpecies}. The last update of this data was at Nov 2022.\

| Family | Species number | Family | Species number |
|:---:|:---:|:---:|:---:|
| Acanthaceae | 5411 | Iridaceae | 2543 |
| Aizoaceae | 1797 | Lamiaceae | 7662 |
| Amaranthaceae | 2326 | Lauraceae | 3353 |
| Amaryllidaceae | 2317 | Loranthaceae | 1067 |
| Annonaceae | 2485 | Malpighiaceae | 1461 |
| Apiaceae | 3865 | Malvaceae | 5441 |
| Apocynaceae | 6490 | Melastomataceae | 5845 |
| Araceae | 4177 | Moraceae | 1297 |
| Araliaceae | 1660 | Myrtaceae | 6186 |
| Arecaceae | 2529 | Orchidaceae | 29867 |
| Asparagaceae | 3334 | Orobanchaceae | 2412 |
| Asphodelaceae | 1213 | Papaveraceae | 1026 |
| Asteraceae | 33996 | Passifloraceae | 1029 |
| Balsaminaceae | 1094 | Poaceae | 1964 |
| Begoniaceae | 1993 | Polygalaceae | 1329 |
| Boraginaceae | 3398 | Polygonaceae | 1425 |
| Brassicaceae | 4104 | Primulaceae | 3262 |
| Bromeliaceae | 3574 | Proteaceae | 1847 |
| Cactaceae | 1794 | Ranunculaceae | 3783 |
| Campanulaceae | 2461 | Rhamnaceae | 1170 |
| Caprifoliaceae | 1072 | Rosaceae | 5149 |
| Caryophyllaceae | 3246 | Rubiaceae | 14083 |
| Celastraceae | 1353 | Rutaceae  | 2185 |
| Convolvulaceae | 1955 | Salicaceae | 1358 |
| Crassulaceae | 1621 | Santalaceae | 1115 |
| Cucurbitaceae | 1051 | Sapindaceae | 1975 |
| Cyperaceae | 5644 | Sapotaceae | 1337 |
| Ericaceae | 4470 | Scrophulariaceae | 2028 |
| Eriocaulaceae | 1210 | Solanaceae | 2813 |
| Euphorbiaceae | 6530 | Urticaceae | 2074 |
| Fabaceae | 22186 | Violaceae | 1077 |
| Gentianaceae | 1838 | Vitaceae | 1022 |
| Gesneriaceae | 3792 | Zingiberaceae | 1926 |

\
Using the function `data`, it returns a dataframe listing all 
accepted species (excluding hybrid species), their publication, 
authorship, and global geographic distribution at country or botanical level. The global classification of botanical divisions follows the [World Geographical Scheme](https://www.tdwg.org/standards/wgsrpd/) for Recording Plant Distributions, which is already associated with each taxon's distribution in the POWO.\

The example below shows how to call `angioData`. The plant families Fabaceae and Cactaceae are included in the associated data, so the function \code{powoSpecies} quickly reaches the results. \

```{r, eval = FALSE}
library(taxize)
utils::data("angioData")

fam <- c("Fabaceae", "Cactaceae")
powocodes <- cbind(family = fam,
                   data.frame(taxize::get_pow(fam)))

powoSpecies(powocodes$family, powocodes$uri,
            hybridspp = FALSE,
            verbose = TRUE,
            save = TRUE,
            dir = "results_powoSpecies/",
            filename = "Fabaceae_Cactaceae_search")
```
\

# `botregions` - Countries and associated classification of botanical divisions

The data `botregions` is a dataframe containing all countries of the World and associated classification of botanical divisions according to the [World Geographical Scheme](https://www.tdwg.org/standards/wgsrpd/) for Recording Plant Distributions. It was retrieved using the packages rgdal, ggplot2, broom, sf and raster. 

It is very useful to use this data when the purpose is to query many plant families or all of them. Despite the names of plant families, which will be used in the arguments of all expowo's functions, it has the URI, the main way of accessing each family page at Plants of The World Online database. 

To call this associated data to your R environment, use the function \code{data}.\

```{r, eval = FALSE}
utils::data("botregions")
```

\

# `botdivmap` - A global map of botanical country subdivisions

The data `botdivmap` is a Sf dataframe containing a global-scale map of botanical countries (level 3) according to the [World Geographical Scheme](https://www.tdwg.org/standards/wgsrpd/) for Recording Plant Distributions. 

It was retrieved using the packages rgdal, ggplot2 and sf. This data is very useful to be used within the \code{powoMap} function of this package while the purpose is to plot the native distribution of a species or genus according to botanical countries. To call this associated data to your R environment, use the function \code{data}.\

```{r, eval = FALSE}
utils::data("botdivmap")
```
