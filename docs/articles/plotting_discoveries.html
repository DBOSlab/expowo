<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="expowo">
<title>Plotting species discovery • expowo</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plotting species discovery">
<meta property="og:description" content="expowo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">expowo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_package.html">Associated data</a>
    <a class="dropdown-item" href="../articles/mapping_distribution.html">Mapping global distribution for any taxonomic level</a>
    <a class="dropdown-item" href="../articles/mining_accepted_genera.html">Mining genus list for any plant family</a>
    <a class="dropdown-item" href="../articles/mining_family_species_number.html">Mining species number of any plant family</a>
    <a class="dropdown-item" href="../articles/mining_species.html">Mining species list for any plant family</a>
    <a class="dropdown-item" href="../articles/mining_species_distribution.html">Mining distribution for any plant species</a>
    <a class="dropdown-item" href="../articles/mining_toprichest_genera.html">Mining the top richest genera of flowering plants</a>
    <a class="dropdown-item" href="../articles/plotting_discoveries.html">Plotting species discovery</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DBOSlab/expowo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Plotting species discovery</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DBOSlab/expowo/blob/HEAD/vignettes/plotting_discoveries.Rmd" class="external-link"><code>vignettes/plotting_discoveries.Rmd</code></a></small>
      <div class="d-none name"><code>plotting_discoveries.Rmd</code></div>
    </div>

    
    
<style type="text/css">
p.caption {
  font-size: 0.8em;
}
.table{
  width: auto;
  font-size: 14px;
}
.table caption {
  font-size: 1em;
}
</style>
<p>Information concerning the year of publication of a species and its
current status, obtained from the taxonomically validated <a href="https://powo.science.kew.org/" class="external-link">Plants of the World Online
(POWO)</a> database, can offer valuable insights into temporal trends
related to changes in species nomenclature.<br></p>
<p>In this article, we illustrate the utilization of the package’s
<code>accGraph</code> function for automatically generate plots that
showcase the dynamics of species discoveries and nomenclatural changes
over time – all in a single run! This versatile function is capable of
producing two distinct types of graphics: one depicting the accumulation
of formally described species within each genus or family, and the other
illustrating changes in species nomenclature over time. The species
discovery curve inherently demonstrates continuous growth, with the rate
of this growth linked to the number of new discoveries. Conversely, the
second type of graphic allows for the comparison of variations in the
data, accommodating multimodal distributions, such as those with
multiple peaks representing years characterized by numerous changes. To
employ this function effectively, it is necessary to have data stored in
a spreadsheet or dataset generated using the <code>powoSpecies</code>
function, where the <code>synonyms</code> argument is set to TRUE.<br></p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>Install the latest developmental version of <strong>expowo</strong>
from <a href="https://github.com/" class="external-link">GitHub</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"DBOSlab/expowo"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dboslab.github.io/expowo/">expowo</a></span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="plotting-the-species-discoveries-for-one-genus">1. Plotting the species discoveries for one genus<a class="anchor" aria-label="anchor" href="#plotting-the-species-discoveries-for-one-genus"></a>
</h2>
<p>The example below shows the accumulation curve of <a href="https://powo.science.kew.org/taxon/urn:lsid:ipni.org:names:329745-2" class="external-link">Crotalaria</a>,
one big legume genus. The black line is derived from the publication
dates of currently accepted species names, while the red line is related
to the publication year of the basionym for each accepted species name.
As a result, it illustrates the cumulative count of formally described
species of this genus. Different file formats (e.g. JPG, PDF, PNG, TIFF)
are also supported by setting the argument <code>format</code>. Notice
that the <code>spp_changes_col</code> argument is set with the name of
the column (in this case, “genus”) of the input dataframe that we want
to be used for plotting the graphic. If we defined it as “family”, for
example, the function would use the data of the entire family available
in the input dataframe to create the graphic. </p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/accGraph.html">accGraph</a></span><span class="op">(</span>inputdf <span class="op">=</span> <span class="st">"Crotalaria_spp"</span>,</span>
<span>         verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_acc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>         spp_changes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_changes_col <span class="op">=</span> <span class="st">"genus"</span>,</span>
<span>         genus_plots <span class="op">=</span> <span class="cn">TRUE</span>,         </span>
<span>         save <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         dir <span class="op">=</span> <span class="st">"results_accGraph"</span>,</span>
<span>         filename <span class="op">=</span> <span class="st">"cumulative_discovery_Crotalaria"</span>,</span>
<span>         format <span class="op">=</span> <span class="st">"jpg"</span><span class="op">)</span></span></code></pre></div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Crotalaria.png" alt="FIGURE 1. Accumulation of formally described species in the big genus _Crotalaria_ over time." width="600px"><p class="caption">
FIGURE 1. Accumulation of formally described species in the big genus
<em>Crotalaria</em> over time.
</p>
</div>
<p><br></p>
<p>The accumulation curve of <em>Crotalaria</em> shows that it has 712
spp. described and a high increase of taxonomic changes between 1840 and
1920 (noticeable by the curve in light red).</p>
</div>
<div class="section level2">
<h2 id="plotting-the-species-discoveries-for-the-entire-dataset">2. Plotting the species discoveries for the entire dataset<a class="anchor" aria-label="anchor" href="#plotting-the-species-discoveries-for-the-entire-dataset"></a>
</h2>
<p>If your dataset contains species from more than one genus, the
<code>accGraph</code> function can automatically plot a graphic of
changes in species nomenclature over the years with the data of those
genera. In the example before, we adjusted the argument
<code>spp_acc</code> to FALSE, but notice that it is set as TRUE in the
example below. It is because the argument <code>spp_acc</code> will
define the creation of the second type of graphic. The dynamics of
nomenclatural changes are visually represented through the varying
densities of curves and circles between the years of publications.
Currently accepted names are in gray and its size is scaled
proportionately to their associated homotypic or heterotypic synonyms
(in yellow) that were published over time.</p>
<p>First, to get those graphs, we extracted all data of the genera
<em>Achillea</em>, <em>Matricaria</em> and <em>Launaea</em> from Plants
of the World Online using <code>powoSpecies</code> as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">newdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/powoSpecies.html">powoSpecies</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Asteraceae"</span>,</span>
<span>                       genus <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Achillea"</span>, <span class="st">"Matricaria"</span>, <span class="st">"Launaea"</span><span class="op">)</span>,</span>
<span>                       synonyms <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       save <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                       dir <span class="op">=</span> <span class="st">"Asteraceae_results"</span>,</span>
<span>                       filename <span class="op">=</span> <span class="st">"Asteraceae_spp"</span><span class="op">)</span></span></code></pre></div>
<p>Then, we used the newly developed function <code>accGraph</code> to
plot individual graphics of accumulation of species discovery and a
violin graph for the three genera.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/accGraph.html">accGraph</a></span><span class="op">(</span>inputdf <span class="op">=</span> <span class="va">newdata</span>,</span>
<span>         verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_acc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_changes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_changes_col <span class="op">=</span> <span class="st">"genus"</span>,</span>
<span>         genus_plots <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         save <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         dir <span class="op">=</span> <span class="st">"results_accGraph"</span>,</span>
<span>         filename <span class="op">=</span> <span class="st">"cumulative_discovery_Asteraceae_"</span>,</span>
<span>         format <span class="op">=</span> <span class="st">"jpg"</span><span class="op">)</span></span></code></pre></div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_Achillea.png" alt="FIGURE 2. Accumulation of formally described species in the genus _Achillea_ over time." width="600px"><p class="caption">
FIGURE 2. Accumulation of formally described species in the genus
<em>Achillea</em> over time.
</p>
</div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_Matricaria.png" alt="FIGURE 3. Accumulation of formally described species in the genus _Matricaria_ over time." width="600px"><p class="caption">
FIGURE 3. Accumulation of formally described species in the genus
<em>Matricaria</em> over time.
</p>
</div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_Launaea.png" alt="FIGURE 4. Accumulation of formally described species in the genus _Launaea_ over time." width="600px"><p class="caption">
FIGURE 4. Accumulation of formally described species in the genus
<em>Launaea</em> over time.
</p>
</div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_all_data.png" alt="FIGURE 5. The temporal dynamics of nomenclatural changes in three genera." width="600px"><p class="caption">
FIGURE 5. The temporal dynamics of nomenclatural changes in three
genera.
</p>
</div>
<p><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Debora Zuanny, Domingos Cardoso.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
