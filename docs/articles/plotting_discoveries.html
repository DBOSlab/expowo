<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="expowo">
<title>Plotting species discovery • expowo</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plotting species discovery">
<meta property="og:description" content="expowo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">expowo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_package.html">Associated data</a>
    <a class="dropdown-item" href="../articles/mapping_distribution.html">Mapping global distribution for any taxonomic level</a>
    <a class="dropdown-item" href="../articles/mining_accepted_genera.html">Mining genus list for any plant family</a>
    <a class="dropdown-item" href="../articles/mining_accepted_species.html">Mining species list for any plant family</a>
    <a class="dropdown-item" href="../articles/mining_family_species_number.html">Mining species number of any plant family</a>
    <a class="dropdown-item" href="../articles/mining_megadiverse_genera.html">Mining mega-diverse genera of flowering plants</a>
    <a class="dropdown-item" href="../articles/mining_species_distribution.html">Mining distribution for any plant species</a>
    <a class="dropdown-item" href="../articles/mining_toprichest_genera.html">Mining the top richest genera of flowering plants</a>
    <a class="dropdown-item" href="../articles/plotting_discoveries.html">Plotting species discovery</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DBOSlab/expowo/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Plotting species discovery</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DBOSlab/expowo/blob/HEAD/vignettes/plotting_discoveries.Rmd" class="external-link"><code>vignettes/plotting_discoveries.Rmd</code></a></small>
      <div class="d-none name"><code>plotting_discoveries.Rmd</code></div>
    </div>

    
    
<style type="text/css">
p.caption {
  font-size: 0.8em;
}
.table{
  width: auto;
  font-size: 14px;
}
.table caption {
  font-size: 1em;
}
</style>
<p>Here in this article, we show how to use the package’s
<code>accGraph</code> function for plotting the species discoveries and
nomenclatural changes over time. This function can create two types of
graphs: species accumulation curves recording the cumulative number of
species discovery in each genus as a function of the year of the
protologue, and a violin plot to visualize and compare the nomenclatural
changes of each genus within the provided dataset. The species discovery
curve will necessarily represent a continuous growth and its rate of
increase will be related to the quantity of new discoveries, while the
violin plot will be a way to visualize distribution around the median of
species changes, the minimum and maximum of the data. The latter is a
way for comparing variations in the data and it fits to multimodal
distributions (e.g., more than one peak representing years with many
publications). To use this function, the data must be stored in a
spreadsheet/dataset generated using <code>powoSpecies</code> function
with the argument <code>synonyms</code> set to TRUE. The graphs will be
colored according to the need of year rectification using <a href="https://CRAN.R-project.org/package=viridis" class="external-link">Viridis</a> color
palettes.<br></p>
<p><br></p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>Install the latest development version of <strong>expowo</strong>
from <a href="https://github.com/" class="external-link">GitHub</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"DBOSlab/expowo"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dboslab.github.io/expowo/">expowo</a></span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="plotting-the-accumulation-of-species-discoveries-for-one-genus">1. Plotting the accumulation of species discoveries for one
genus<a class="anchor" aria-label="anchor" href="#plotting-the-accumulation-of-species-discoveries-for-one-genus"></a>
</h2>
<p>The example below shows the accumulation curve for
<em>Crotalaria</em>, one big legume genus. Different file formats
(e.g. JPG, PDF, PNG, TIFF) are also supported by setting the argument
<code>format</code>. </p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/accGraph.html">accGraph</a></span><span class="op">(</span>inputdf <span class="op">=</span> <span class="st">"Crotalaria_spp"</span>,</span>
<span>         verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_acc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_changes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         save_data_to_plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>         save <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         dir <span class="op">=</span> <span class="st">"results_accGraph"</span>,</span>
<span>         filename <span class="op">=</span> <span class="st">"cumulative_discovery_Crotalaria"</span>,</span>
<span>         format <span class="op">=</span> <span class="st">"jpg"</span><span class="op">)</span></span></code></pre></div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Crotalaria.png" alt="FIGURE 1. Accumulation graph of new species discoveries in the big genus _Crotalaria_ over time." width="600px"><p class="caption">
FIGURE 1. Accumulation graph of new species discoveries in the big genus
<em>Crotalaria</em> over time.
</p>
</div>
<p><br></p>
<p>The accumulation curve of <em>Crotalaria</em> shows that it has 712
spp. and a high increase of taxonomic changes between 1840 and 1920
(noticeable by the curve in light red).</p>
</div>
<div class="section level2">
<h2 id="plotting-the-accumulation-of-species-discoveries-for-the-entire-dataset">2. Plotting the accumulation of species discoveries for the entire
dataset<a class="anchor" aria-label="anchor" href="#plotting-the-accumulation-of-species-discoveries-for-the-entire-dataset"></a>
</h2>
<p>If your dataset contains species from more than one genus, the
<code>accGraph</code> function will automatically plot a violin graph
comparing new discoveries within those genera. In the example before, we
adjusted the argument <code>multi</code> to FALSE, but notice that it is
set as TRUE (default) in the example below. To get those graphs, we
extracted all data of the genera <em>Achillea</em>, <em>Matricaria</em>
and <em>Launaea</em> from Plants of the World Online using
<code>powoSpecies</code> as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">newdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/powoSpecies.html">powoSpecies</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Asteraceae"</span>,</span>
<span>                       genus <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Achillea"</span>, <span class="st">"Matricaria"</span>, <span class="st">"Launaea"</span><span class="op">)</span>,</span>
<span>                       synonyms <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                       save <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                       dir <span class="op">=</span> <span class="st">"Asteraceae_results"</span>,</span>
<span>                       filename <span class="op">=</span> <span class="st">"Asteraceae_spp"</span><span class="op">)</span></span></code></pre></div>
<p>Then, we used the newly developed function <code>accGraph</code> to
plot individual graphs of accumulation of species discovery and a violin
graph for the three genera.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/accGraph.html">accGraph</a></span><span class="op">(</span>inputdf <span class="op">=</span> <span class="va">newdata</span>,</span>
<span>         verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_acc <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         spp_changes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         save_data_to_plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>         save <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>         dir <span class="op">=</span> <span class="st">"results_accGraph"</span>,</span>
<span>         filename <span class="op">=</span> <span class="st">"cumulative_discovery_Asteraceae_"</span>,</span>
<span>         format <span class="op">=</span> <span class="st">"jpg"</span><span class="op">)</span></span></code></pre></div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_Achillea.png" alt="FIGURE 2. Accumulation graph of new species discoveries in the genus _Achillea_ over time." width="600px"><p class="caption">
FIGURE 2. Accumulation graph of new species discoveries in the genus
<em>Achillea</em> over time.
</p>
</div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_Matricaria.png" alt="FIGURE 3. Accumulation graph of new species discoveries in the genus _Matricaria_ over time." width="600px"><p class="caption">
FIGURE 3. Accumulation graph of new species discoveries in the genus
<em>Matricaria</em> over time.
</p>
</div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_Launaea.png" alt="FIGURE 4. Accumulation graph of new species discoveries in the genus _Launaea_ over time." width="600px"><p class="caption">
FIGURE 4. Accumulation graph of new species discoveries in the genus
<em>Launaea</em> over time.
</p>
</div>
<br><div class="figure">
<img src="figures/cumulative_discovery_Asteraceae_all_data.png" alt="FIGURE 5. Violin graph of new species discoveries in three genera over time." width="600px"><p class="caption">
FIGURE 5. Violin graph of new species discoveries in three genera over
time.
</p>
</div>
<p><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Debora Zuanny, Domingos Cardoso.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
